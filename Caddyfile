# Caddyfile untuk testing - menggunakan folder site/
{
    # Global options
    admin off
    auto_https off
}

:8080 {
    # Set document root ke folder site
    root * /var/www/html
    
    # Enable PHP
    php_fastcgi app:9000
    
    # Try files (untuk Laravel nantinya)
    try_files {path} {path}/ /index.php?{query}
    
    # File server untuk static files
    file_server
    
    # Security headers
    header {
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        Referrer-Policy strict-origin-when-cross-origin
    }
    
    # Enable gzip compression
    encode gzip
    
    # Logging untuk debugging
    log {
        output stdout
        format console
        level DEBUG
    }
}